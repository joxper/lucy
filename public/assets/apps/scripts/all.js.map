{"version":3,"sources":["calendar.js","inbox.js","todo-2.js","todo.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var AppCalendar = function() {\r\n\r\n    return {\r\n        //main function to initiate the module\r\n        init: function() {\r\n            this.initCalendar();\r\n        },\r\n\r\n        initCalendar: function() {\r\n\r\n            if (!jQuery().fullCalendar) {\r\n                return;\r\n            }\r\n\r\n            var date = new Date();\r\n            var d = date.getDate();\r\n            var m = date.getMonth();\r\n            var y = date.getFullYear();\r\n\r\n            var h = {};\r\n\r\n            if (App.isRTL()) {\r\n                if ($('#calendar').parents(\".portlet\").width() <= 720) {\r\n                    $('#calendar').addClass(\"mobile\");\r\n                    h = {\r\n                        right: 'title, prev, next',\r\n                        center: '',\r\n                        left: 'agendaDay, agendaWeek, month, today'\r\n                    };\r\n                } else {\r\n                    $('#calendar').removeClass(\"mobile\");\r\n                    h = {\r\n                        right: 'title',\r\n                        center: '',\r\n                        left: 'agendaDay, agendaWeek, month, today, prev,next'\r\n                    };\r\n                }\r\n            } else {\r\n                if ($('#calendar').parents(\".portlet\").width() <= 720) {\r\n                    $('#calendar').addClass(\"mobile\");\r\n                    h = {\r\n                        left: 'title, prev, next',\r\n                        center: '',\r\n                        right: 'today,month,agendaWeek,agendaDay'\r\n                    };\r\n                } else {\r\n                    $('#calendar').removeClass(\"mobile\");\r\n                    h = {\r\n                        left: 'title',\r\n                        center: '',\r\n                        right: 'prev,next,today,month,agendaWeek,agendaDay'\r\n                    };\r\n                }\r\n            }\r\n\r\n            var initDrag = function(el) {\r\n                // create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)\r\n                // it doesn't need to have a start or end\r\n                var eventObject = {\r\n                    title: $.trim(el.text()) // use the element's text as the event title\r\n                };\r\n                // store the Event Object in the DOM element so we can get to it later\r\n                el.data('eventObject', eventObject);\r\n                // make the event draggable using jQuery UI\r\n                el.draggable({\r\n                    zIndex: 999,\r\n                    revert: true, // will cause the event to go back to its\r\n                    revertDuration: 0 //  original position after the drag\r\n                });\r\n            };\r\n\r\n            var addEvent = function(title) {\r\n                title = title.length === 0 ? \"Untitled Event\" : title;\r\n                var html = $('<div class=\"external-event label label-default\">' + title + '</div>');\r\n                jQuery('#event_box').append(html);\r\n                initDrag(html);\r\n            };\r\n\r\n            $('#external-events div.external-event').each(function() {\r\n                initDrag($(this));\r\n            });\r\n\r\n            $('#event_add').unbind('click').click(function() {\r\n                var title = $('#event_title').val();\r\n                addEvent(title);\r\n            });\r\n\r\n            //predefined events\r\n            $('#event_box').html(\"\");\r\n            addEvent(\"My Event 1\");\r\n            addEvent(\"My Event 2\");\r\n            addEvent(\"My Event 3\");\r\n            addEvent(\"My Event 4\");\r\n            addEvent(\"My Event 5\");\r\n            addEvent(\"My Event 6\");\r\n\r\n            $('#calendar').fullCalendar('destroy'); // destroy the calendar\r\n            $('#calendar').fullCalendar({ //re-initialize the calendar\r\n                header: h,\r\n                defaultView: 'month', // change default view with available options from http://arshaw.com/fullcalendar/docs/views/Available_Views/ \r\n                slotMinutes: 15,\r\n                editable: true,\r\n                droppable: true, // this allows things to be dropped onto the calendar !!!\r\n                drop: function(date, allDay) { // this function is called when something is dropped\r\n\r\n                    // retrieve the dropped element's stored Event Object\r\n                    var originalEventObject = $(this).data('eventObject');\r\n                    // we need to copy it, so that multiple events don't have a reference to the same object\r\n                    var copiedEventObject = $.extend({}, originalEventObject);\r\n\r\n                    // assign it the date that was reported\r\n                    copiedEventObject.start = date;\r\n                    copiedEventObject.allDay = allDay;\r\n                    copiedEventObject.className = $(this).attr(\"data-class\");\r\n\r\n                    // render the event on the calendar\r\n                    // the last `true` argument determines if the event \"sticks\" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)\r\n                    $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);\r\n\r\n                    // is the \"remove after drop\" checkbox checked?\r\n                    if ($('#drop-remove').is(':checked')) {\r\n                        // if so, remove the element from the \"Draggable Events\" list\r\n                        $(this).remove();\r\n                    }\r\n                },\r\n                events: [{\r\n                    title: 'All Day Event',\r\n                    start: new Date(y, m, 1),\r\n                    backgroundColor: App.getBrandColor('yellow')\r\n                }, {\r\n                    title: 'Long Event',\r\n                    start: new Date(y, m, d - 5),\r\n                    end: new Date(y, m, d - 2),\r\n                    backgroundColor: App.getBrandColor('green')\r\n                }, {\r\n                    title: 'Repeating Event',\r\n                    start: new Date(y, m, d - 3, 16, 0),\r\n                    allDay: false,\r\n                    backgroundColor: App.getBrandColor('red')\r\n                }, {\r\n                    title: 'Repeating Event',\r\n                    start: new Date(y, m, d + 4, 16, 0),\r\n                    allDay: false,\r\n                    backgroundColor: App.getBrandColor('green')\r\n                }, {\r\n                    title: 'Meeting',\r\n                    start: new Date(y, m, d, 10, 30),\r\n                    allDay: false,\r\n                }, {\r\n                    title: 'Lunch',\r\n                    start: new Date(y, m, d, 12, 0),\r\n                    end: new Date(y, m, d, 14, 0),\r\n                    backgroundColor: App.getBrandColor('grey'),\r\n                    allDay: false,\r\n                }, {\r\n                    title: 'Birthday Party',\r\n                    start: new Date(y, m, d + 1, 19, 0),\r\n                    end: new Date(y, m, d + 1, 22, 30),\r\n                    backgroundColor: App.getBrandColor('purple'),\r\n                    allDay: false,\r\n                }, {\r\n                    title: 'Click for Google',\r\n                    start: new Date(y, m, 28),\r\n                    end: new Date(y, m, 29),\r\n                    backgroundColor: App.getBrandColor('yellow'),\r\n                    url: 'http://google.com/',\r\n                }]\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n}();\r\n\r\njQuery(document).ready(function() {    \r\n   AppCalendar.init(); \r\n});","var AppInbox = function () {\r\n\r\n    var content = $('.inbox-content');\r\n    var listListing = '';\r\n\r\n    var loadInbox = function (el, name) {\r\n        var url = 'app_inbox_inbox.html';\r\n        var title = el.attr('data-title');\r\n        listListing = name;\r\n\r\n        App.blockUI({\r\n            target: content,\r\n            overlayColor: 'none',\r\n            animate: true\r\n        });\r\n\r\n        toggleButton(el);\r\n\r\n        $.ajax({\r\n            type: \"GET\",\r\n            cache: false,\r\n            url: url,\r\n            dataType: \"html\",\r\n            success: function(res) \r\n            {\r\n                toggleButton(el);\r\n\r\n                App.unblockUI('.inbox-content');\r\n\r\n                $('.inbox-nav > li.active').removeClass('active');\r\n                el.closest('li').addClass('active');\r\n                $('.inbox-header > h1').text(title);\r\n\r\n                content.html(res);\r\n\r\n                if (Layout.fixContentHeight) {\r\n                    Layout.fixContentHeight();\r\n                }\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError)\r\n            {\r\n                toggleButton(el);\r\n            },\r\n            async: false\r\n        });\r\n\r\n        // handle group checkbox:\r\n        jQuery('body').on('change', '.mail-group-checkbox', function () {\r\n            var set = jQuery('.mail-checkbox');\r\n            var checked = jQuery(this).is(\":checked\");\r\n            jQuery(set).each(function () {\r\n                $(this).attr(\"checked\", checked);\r\n            });\r\n        });\r\n    }\r\n\r\n    var loadMessage = function (el, name, resetMenu) {\r\n        var url = 'app_inbox_view.html';\r\n\r\n        App.blockUI({\r\n            target: content,\r\n            overlayColor: 'none',\r\n            animate: true\r\n        });\r\n\r\n        toggleButton(el);\r\n\r\n        var message_id = el.parent('tr').attr(\"data-messageid\");  \r\n        \r\n        $.ajax({\r\n            type: \"GET\",\r\n            cache: false,\r\n            url: url,\r\n            dataType: \"html\",\r\n            data: {'message_id': message_id},\r\n            success: function(res) \r\n            {\r\n                App.unblockUI(content);\r\n\r\n                toggleButton(el);\r\n\r\n                if (resetMenu) {\r\n                    $('.inbox-nav > li.active').removeClass('active');\r\n                }\r\n                $('.inbox-header > h1').text('View Message');\r\n\r\n                content.html(res);\r\n                Layout.fixContentHeight();\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError)\r\n            {\r\n                toggleButton(el);\r\n            },\r\n            async: false\r\n        });\r\n    }\r\n\r\n    var initWysihtml5 = function () {\r\n        $('.inbox-wysihtml5').wysihtml5({\r\n            \"stylesheets\": [\"../assets/global/plugins/bootstrap-wysihtml5/wysiwyg-color.css\"]\r\n        });\r\n    }\r\n\r\n    var initFileupload = function () {\r\n\r\n        $('#fileupload').fileupload({\r\n            // Uncomment the following to send cross-domain cookies:\r\n            //xhrFields: {withCredentials: true},\r\n            url: '../assets/global/plugins/jquery-file-upload/server/php/',\r\n            autoUpload: true\r\n        });\r\n\r\n        // Upload server status check for browsers with CORS support:\r\n        if ($.support.cors) {\r\n            $.ajax({\r\n                url: '../assets/global/plugins/jquery-file-upload/server/php/',\r\n                type: 'HEAD'\r\n            }).fail(function () {\r\n                $('<span class=\"alert alert-error\"/>')\r\n                    .text('Upload server currently unavailable - ' +\r\n                    new Date())\r\n                    .appendTo('#fileupload');\r\n            });\r\n        }\r\n    }\r\n\r\n    var loadCompose = function (el) {\r\n        var url = 'app_inbox_compose.html';\r\n\r\n        App.blockUI({\r\n            target: content,\r\n            overlayColor: 'none',\r\n            animate: true\r\n        });\r\n\r\n        toggleButton(el);\r\n\r\n        // load the form via ajax\r\n        $.ajax({\r\n            type: \"GET\",\r\n            cache: false,\r\n            url: url,\r\n            dataType: \"html\",\r\n            success: function(res) \r\n            {\r\n                App.unblockUI(content);\r\n                toggleButton(el);\r\n\r\n                $('.inbox-nav > li.active').removeClass('active');\r\n                $('.inbox-header > h1').text('Compose');\r\n\r\n                content.html(res);\r\n\r\n                initFileupload();\r\n                initWysihtml5();\r\n\r\n                $('.inbox-wysihtml5').focus();\r\n                Layout.fixContentHeight();\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError)\r\n            {\r\n                toggleButton(el);\r\n            },\r\n            async: false\r\n        });\r\n    }\r\n\r\n    var loadReply = function (el) {\r\n        var messageid = $(el).attr(\"data-messageid\");\r\n        var url = 'app_inbox_reply.html';\r\n        \r\n        App.blockUI({\r\n            target: content,\r\n            overlayColor: 'none',\r\n            animate: true\r\n        });\r\n\r\n        toggleButton(el);\r\n\r\n        // load the form via ajax\r\n        $.ajax({\r\n            type: \"GET\",\r\n            cache: false,\r\n            url: url,\r\n            dataType: \"html\",\r\n            success: function(res) \r\n            {\r\n                App.unblockUI(content);\r\n                toggleButton(el);\r\n\r\n                $('.inbox-nav > li.active').removeClass('active');\r\n                $('.inbox-header > h1').text('Reply');\r\n\r\n                content.html(res);\r\n                $('[name=\"message\"]').val($('#reply_email_content_body').html());\r\n\r\n                handleCCInput(); // init \"CC\" input field\r\n\r\n                initFileupload();\r\n                initWysihtml5();\r\n                Layout.fixContentHeight();\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError)\r\n            {\r\n                toggleButton(el);\r\n            },\r\n            async: false\r\n        });\r\n    }\r\n\r\n    var handleCCInput = function () {\r\n        var the = $('.inbox-compose .mail-to .inbox-cc');\r\n        var input = $('.inbox-compose .input-cc');\r\n        the.hide();\r\n        input.show();\r\n        $('.close', input).click(function () {\r\n            input.hide();\r\n            the.show();\r\n        });\r\n    }\r\n\r\n    var handleBCCInput = function () {\r\n\r\n        var the = $('.inbox-compose .mail-to .inbox-bcc');\r\n        var input = $('.inbox-compose .input-bcc');\r\n        the.hide();\r\n        input.show();\r\n        $('.close', input).click(function () {\r\n            input.hide();\r\n            the.show();\r\n        });\r\n    }\r\n\r\n    var toggleButton = function(el) {\r\n        if (typeof el == 'undefined') {\r\n            return;\r\n        }\r\n        if (el.attr(\"disabled\")) {\r\n            el.attr(\"disabled\", false);\r\n        } else {\r\n            el.attr(\"disabled\", true);\r\n        }\r\n    }\r\n\r\n    return {\r\n        //main function to initiate the module\r\n        init: function () {\r\n\r\n            // handle compose btn click\r\n            $('.inbox').on('click', '.compose-btn', function () {\r\n                loadCompose($(this));\r\n            });\r\n\r\n            // handle discard btn\r\n            $('.inbox').on('click', '.inbox-discard-btn', function(e) {\r\n                e.preventDefault();\r\n                loadInbox($(this), listListing);\r\n            });\r\n\r\n            // handle reply and forward button click\r\n            $('.inbox').on('click', '.reply-btn', function () {\r\n                loadReply($(this));\r\n            });\r\n\r\n            // handle view message\r\n            $('.inbox').on('click', '.view-message', function () {\r\n                loadMessage($(this));\r\n            });\r\n\r\n            // handle inbox listing\r\n            $('.inbox-nav > li > a').click(function () {\r\n                loadInbox($(this), 'inbox');\r\n            });\r\n\r\n            //handle compose/reply cc input toggle\r\n            $('.inbox-content').on('click', '.mail-to .inbox-cc', function () {\r\n                handleCCInput();\r\n            });\r\n\r\n            //handle compose/reply bcc input toggle\r\n            $('.inbox-content').on('click', '.mail-to .inbox-bcc', function () {\r\n                handleBCCInput();\r\n            });\r\n\r\n            //handle loading content based on URL parameter\r\n            if (App.getURLParameter(\"a\") === \"view\") {\r\n                loadMessage();\r\n            } else if (App.getURLParameter(\"a\") === \"compose\") {\r\n                loadCompose();\r\n            } else {\r\n               $('.inbox-nav > li:first > a').click();\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n    AppInbox.init();\r\n});","/**\r\nTodo 2 Module\r\n**/\r\nvar AppTodo2 = function () {\r\n\r\n    // private functions & variables\r\n\r\n    var _initComponents = function() {\r\n        \r\n        // init datepicker\r\n        $('.todo-taskbody-due').datepicker({\r\n            rtl: App.isRTL(),\r\n            orientation: \"left\",\r\n            autoclose: true\r\n        });\r\n\r\n        // init tags        \r\n        $(\".todo-taskbody-tags\").select2({\r\n            placeholder: 'Status'\r\n        });\r\n    }\r\n\r\n    var _handleProjectListMenu = function() {\r\n        if (App.getViewPort().width <= 992) {\r\n            $('.todo-project-list-content').addClass(\"collapse\");\r\n        } else {\r\n            $('.todo-project-list-content').removeClass(\"collapse\").css(\"height\", \"auto\");\r\n        }\r\n    }\r\n\r\n    // public functions\r\n    return {\r\n\r\n        //main function\r\n        init: function () {\r\n            _initComponents();     \r\n            _handleProjectListMenu();\r\n\r\n            App.addResizeHandler(function(){\r\n                _handleProjectListMenu();    \r\n            });       \r\n        }\r\n\r\n    };\r\n\r\n}();\r\n\r\nif (App.isAngularJsApp() === false) {\r\n    jQuery(document).ready(function() {\r\n        AppTodo2.init();\r\n    });\r\n}","/**\r\nTodo Module\r\n**/\r\nvar AppTodo = function () {\r\n\r\n    // private functions & variables\r\n\r\n    var _initComponents = function() {\r\n        \r\n        // init datepicker\r\n        $('.todo-taskbody-due').datepicker({\r\n            rtl: App.isRTL(),\r\n            orientation: \"left\",\r\n            autoclose: true\r\n        });\r\n\r\n        // init tags        \r\n        $(\".todo-taskbody-tags\").select2({\r\n            tags: [\"Testing\", \"Important\", \"Info\", \"Pending\", \"Completed\", \"Requested\", \"Approved\"]\r\n        });\r\n    }\r\n\r\n    var _handleProjectListMenu = function() {\r\n        if (App.getViewPort().width <= 992) {\r\n            $('.todo-project-list-content').addClass(\"collapse\");\r\n        } else {\r\n            $('.todo-project-list-content').removeClass(\"collapse\").css(\"height\", \"auto\");\r\n        }\r\n    }\r\n\r\n    // public functions\r\n    return {\r\n\r\n        //main function\r\n        init: function () {\r\n            _initComponents();     \r\n            _handleProjectListMenu();\r\n\r\n            App.addResizeHandler(function(){\r\n                _handleProjectListMenu();    \r\n            });       \r\n        }\r\n\r\n    };\r\n\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n    AppTodo.init();\r\n});"],"sourceRoot":"/source/"}